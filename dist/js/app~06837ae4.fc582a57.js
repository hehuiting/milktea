(window.webpackJsonp=window.webpackJsonp||[]).push([["app~06837ae4"],{"034f":function(t,e,i){"use strict";var n=i("85ec");i.n(n).a},"1cdc":function(t,e,i){},"2ab4":function(t,e,i){"use strict";var n=i("1cdc");i.n(n).a},"3dfd":function(t,e,i){"use strict";var c=(i("cb29"),i("a9e3"),i("b680"),i("d3b7"),i("cf45")),h=["#FFADAD","#FFD6A5","#FDFFB6","#CAFFBF","#9BF6FF","#BDB2FF","#FFC6FF","#FFFFFC","#FDFFB6","#CAFFBF","#9BF6FF","#BDB2FF","#FFC6FF","#FFFFFC","#CAFFBF","#9BF6FF","#BDB2FF","#FFC6FF","#FFFFFC"],n=["胡明旭","刘周玮","贾宝林","李恒","陈晓璇","冯孔丽","李泽航","吴伟豪","罗永泽","张翀","吴振宇","代德扬"],a={data:function(){return{bgCtx:null,ptCtx:null,list:["胡明旭","刘周玮","贾宝林","李恒","陈晓璇","冯孔丽","李泽航","吴伟豪","罗永泽","张翀","吴振宇","代德扬"],timeout:null}},inject:["Emittier"],mounted:function(){console.log(n);var t=this.$refs["bg-canvas"],e=this.$refs["pt-canvas"];this.setCanvasSetting(t),this.setCanvasSetting(e),this.bgCtx=t.getContext("2d"),this.ptCtx=e.getContext("2d"),this.setStrokeStyle(),this.setFontSetting(),this.setFillStyle(),this.setLineSetting(),this.drawMilkTeaPanel(),this.drawMilkTeaPie(this.list.length),this.drawMilkTeaPointer(Object(c.b)()),this.Emittier.$on("update-list",this.reset)},destroyed:function(){this.Emittier.$off("update-list",this.reset)},methods:{reset:function(t){this.list=t,this.bgCtx.clearRect(0,0,window.innerWidth,window.innerHeight),this.drawMilkTeaPanel(),this.drawMilkTeaPie(this.list.length),this.drawMilkTeaPointer(Object(c.b)())},drawTestGrapgic:function(){this.bgCtx.moveTo(50,50),this.bgCtx.beginPath(),this.bgCtx.arc(100,100,50,0,2*Math.PI,!1),this.bgCtx.clip(),this.bgCtx.beginPath(),this.setFillStyle("#ff0000"),this.bgCtx.arc(100,100,50,0,2*Math.PI,!1),this.bgCtx.fill(),this.bgCtx.closePath(),this.bgCtx.beginPath(),this.setFillStyle("#00ff00"),this.bgCtx.arc(130,160,50,0,2*Math.PI,!1),this.bgCtx.fill(),this.bgCtx.closePath(),this.bgCtx.beginPath(),this.setFillStyle("#0000ff"),this.bgCtx.arc(160,110,50,0,2*Math.PI,!1),this.bgCtx.fill()},start:function(){var t={time:0,begin:0,end:Object(c.c)(5e3,2e4),duration:2e4,type:"ease-in-out",callback:function(t){var e=2*Math.PI/360*t;i.drawMilkTeaPointer(e)}},i=this;this.play(t)},pause:function(){this.timeout&&(clearInterval(this.timeout),this.timeout=null)},autoPlay:function(){var t=this.getCanvasCenter(),e=t.x,i=t.y;this.bgCtx.moveTo(e,i);var n={time:0,begin:0,type:"ease-in-out",end:Object(c.c)(5e3,2e4),duration:Object(c.c)(4e3,2e4),callback:function(t){a.$refs["bg-canvas"].style.transform="rotate(".concat(t,"deg)")}},a=this;this.play(n)},setFontSetting:function(){this.bgCtx.font="20px serif"},setLineSetting:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10;this.bgCtx.lineWidth=t},setFillStyle:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"#000",e=1<arguments.length?arguments[1]:void 0;e?e.fillStyle=t:this.bgCtx.fillStyle=t},setStrokeStyle:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"#000";this.bgCtx.strokeStyle=t,this.bgCtx.strokeWidth=1},drawMilkTeaPanel:function(){this.bgCtx.beginPath();var t=this.getCanvasCenter(),e=t.x,i=t.y,n=this.bgCtx.createRadialGradient(e,i,200,e,i,201);n.addColorStop(0,"#e0c3fc"),n.addColorStop(1,"#8ec5fc"),this.setStrokeStyle(n),this.bgCtx.arc(e,i,200,0,2*Math.PI,!1),this.bgCtx.stroke(),this.bgCtx.closePath()},drawMilkTeaPie:function(){for(var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:6,e=this.getCanvasCenter(),i=e.x,n=e.y,a=2*Math.PI/t,s=0;s<t;s++){this.bgCtx.beginPath();var o=h[s];this.setFillStyle(o),this.bgCtx.arc(i,n,200,a*s,a*(s+1),!1),this.bgCtx.lineTo(i,n),this.bgCtx.fill(),this.bgCtx.closePath(),this.bgCtx.beginPath(),this.bgCtx.save(),this.setLineSetting(1),this.setCanvasTextSetting();var r=Number(Math.round(200*Math.sin(a/2+a*s)).toFixed(0)),l=Number(Math.round(200*Math.cos(a/2+a*s)).toFixed(0));this.bgCtx.translate(i+l,n+r),this.bgCtx.moveTo(0,0),this.bgCtx.lineTo(Math.floor(.1*l),Math.floor(.1*r)),this.bgCtx.translate(Math.floor(.1*l),Math.floor(.1*r)),this.bgCtx.rotate(Math.PI/6),this.bgCtx.lineTo(Math.floor(.1*l),Math.floor(.1*r)),this.bgCtx.stroke(),this.bgCtx.translate(Math.floor(.15*l),Math.floor(.15*r)),this.bgCtx.rotate(-Math.PI/6),this.setFillStyle("#000"),this.bgCtx.fillText(this.list[s],Math.floor(.05*l),Math.floor(.05*r)),this.bgCtx.closePath(),this.bgCtx.restore()}},drawMilkTeaGuideLine:function(){},drawMilkTeaText:function(){},drawMilkTeaPointer:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=this.getCanvasCenter(this.ptCtx),i=e.x,n=e.y,a=this.ptCtx.createLinearGradient(0,0,135,0);a.addColorStop(0,"#e0c3fc"),a.addColorStop(1,"#8ec5fc"),this.setFillStyle(a,this.ptCtx),this.ptCtx.clearRect(0,0,window.innerWidth,window.innerHeight),this.ptCtx.save(),this.ptCtx.translate(i,n),this.ptCtx.rotate(t),this.ptCtx.beginPath(),this.ptCtx.lineTo(120,15),this.ptCtx.lineTo(135,0),this.ptCtx.lineTo(120,-15),this.ptCtx.lineTo(0,0),this.ptCtx.fill(),this.ptCtx.closePath(),this.ptCtx.restore()},setCanvasSetting:function(t){t.width=window.innerWidth,t.height=window.innerHeight},setCanvasTextSetting:function(){this.bgCtx.textAlign="center",this.bgCtx.textBaseline="middle"},getCanvasCenter:function(){return{x:window.innerWidth/2,y:window.innerHeight/2}},play:function(e){return new Promise(function(i){var n=e.time,a=e.begin,s=e.end,t=e.duration,o=e.type,r=e.callback,l=Math.ceil(t/16.7);window.requestAnimationFrame||(window.requestAnimationFrame=function(t){setTimeout(t,16.7)}),function t(){var e=Object(c.a)(o)(n,a,s,l);r(e),++n<=l?window.requestAnimationFrame(t):i()}()})}}},s=(i("d21a"),i("2877")),o=Object(s.a)(a,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mt-container"},[i("canvas",{ref:"bg-canvas",staticClass:"bg-canvas"}),i("canvas",{ref:"pt-canvas",staticClass:"pt-canvas",on:{click:t.autoPlay}}),i("div",{staticClass:"mt-operate-container"},[i("button",{on:{click:t.start}},[t._v("开始")]),i("button",{on:{click:t.pause}},[t._v("暂停")])])])},[],!1,null,"2aa66c42",null).exports,r=(i("c975"),i("a434"),i("b0c0"),i("498a"),i("96cf"),i("1da1")),l=i("6912"),u={name:"EtfModal",props:{type:{type:String,default:"奶茶方案"}},data:function(){return{name:""}},methods:{submitInfo:function(){if(this.name){var t={name:this.name};this.$emit("submit",t),this.$emit("close")}else this.$Message.warning("".concat(this.type,"名称不能为空！"))},cancelInfo:function(){this.name="",this.code=""},closeModal:function(){this.$emit("close")}}},d={components:{Modal:(i("6717"),Object(s.a)(u,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"modal__container"},[i("div",{staticClass:"modal__content"},[i("div",{staticClass:"header modal__header"},[i("span",[e._v(e._s(e.type))]),i("div",{on:{click:e.closeModal}})]),i("div",{staticClass:"content content__container"},[i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",placeholder:"输入名称..."},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})])]),i("div",{staticClass:"footer footer__container"},[i("input",{attrs:{type:"button",value:"确认"},on:{click:e.submitInfo}}),i("input",{attrs:{type:"button",value:"重置"},on:{click:e.cancelInfo}})])])])},[],!1,null,"124ca389",null)).exports},data:function(){return{inputVal:"",list:[],projects:[{name:"演讲",color:"#FFADAD",list:["刘俊","刘朝","马颖涛","陈超琪","胡明旭","刘周玮","杨威","肖健","贾宝林","代德扬","何惠婷","魏聪","田银伟","王振洲","李恒","陈倩","史小雷","陈晓璇","张艳萍"]}],isShowModal:!1}},inject:["Emittier"],watch:{list:function(t){this.Emittier.$emit("update-list",t)}},beforeMount:function(){},methods:{initData:function(n){return Object(r.a)(regeneratorRuntime.mark(function t(){var e,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(l.a)("/getNaicha","获取所有奶茶选择方案");case 2:e=t.sent,i=[],"success"===e.status&&(i=e.list),n(i);case 6:case"end":return t.stop()}},t)}))()},submit:function(a){var s=this;return Object(r.a)(regeneratorRuntime.mark(function t(){var i,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={name:a.name,list:s.list},t.next=3,e=i,Object(l.a)("/saveNaicha","保存奶茶选择方案",e);case 3:"success"===(n=t.sent).status?(s.initData(function(t){this.projects=t}.bind(s)),s.list=[]):console.log(n);case 5:case"end":return t.stop()}var e},t)}))()},submitlocal:function(t){var e={name:t.name,list:this.list};this.projects.push(e)},close:function(){this.isShowModal=!1},addItem:function(){this.list.indexOf(this.inputVal)<0&&this.inputVal.trim()&&this.list.push(this.inputVal),this.inputVal=""},removeItem:function(t){-1<this.list.indexOf(t)&&this.list.splice(this.list.indexOf(t),1)},mouseEnter:function(t){if(t.target){var e=t.target.firstElementChild;e&&e.style&&(e.style.display="block")}},mouseLeave:function(t){if(t.target){var e=t.target.firstElementChild;e&&e.style&&(e.style.display="none")}},saveProject:function(){this.isShowModal=!0},openProject:function(t){Object(c.d)(this.list,t.list)&&(this.list=JSON.parse(JSON.stringify(t.list)))}}},f=(i("2ab4"),Object(s.a)(d,function(){var i=this,t=i.$createElement,n=i._self._c||t;return n("div",{staticClass:"contact contact__container"},[n("div",{staticClass:"container"},[n("div",{staticClass:"header"},[n("input",{directives:[{name:"model",rawName:"v-model",value:i.inputVal,expression:"inputVal"}],attrs:{type:"text",placeholder:"输入添加项..."},domProps:{value:i.inputVal},on:{input:function(t){t.target.composing||(i.inputVal=t.target.value)}}}),n("input",{attrs:{type:"button",value:"添加"},on:{click:function(t){return i.addItem()}}}),n("input",{attrs:{type:"button",value:"保存",disabled:i.list.length<=2},on:{click:function(t){return i.saveProject()}}})]),n("div",{staticClass:"content"},[0<i.projects.length?n("div",{staticClass:"project-container"},[n("div",i._l(i.projects,function(e,t){return n("span",{key:t,style:{background:e.color},on:{click:function(t){return i.openProject(e)}}},[i._v(i._s(e.name))])}),0)]):i._e(),i.list.length?n("div",{staticClass:"content-container"},i._l(i.list,function(e,t){return n("ul",{key:t},[n("li",{on:{mouseover:i.mouseEnter,mouseleave:i.mouseLeave}},[i._v(" "+i._s(e)+" "),n("span",{on:{click:function(t){return i.removeItem(e)}}},[i._v("+")])])])}),0):i._e()])]),i.isShowModal?n("div",{staticClass:"naicha__modal"},[n("Modal",{on:{submit:i.submitlocal,close:i.close}})],1):i._e()])},[],!1,null,"30576f60",null)).exports,g=i("2b0e"),C={name:"App",data:function(){return{Emittier:new g.a}},provide:function(){return{Emittier:this.Emittier}},components:{Naicha:o,Contact:f}},p=(i("034f"),Object(s.a)(C,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"milk-tea-container"},[e("Naicha")],1),e("div",{staticClass:"contact-container"},[e("Contact")],1)])},[],!1,null,null,null));e.a=p.exports},6169:function(t,e,i){},6717:function(t,e,i){"use strict";var n=i("6169");i.n(n).a},"85ec":function(t,e,i){},d21a:function(t,e,i){"use strict";var n=i("fe19");i.n(n).a},fe19:function(t,e,i){}}]);
//# sourceMappingURL=app~06837ae4.fc582a57.js.map